NameVirtualHost *:80

<VirtualHost *:80>
    ServerName beta.lmfdb.org
    ServerAlias dev.lmfdb.xyz
    ServerAlias beta.lmfdb.xyz

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

   <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
      Header set Cache-Control "max-age=600, public"
      Header unset Last-Modified
      Header unset ETag
      FileETag None
    </FilesMatch>
    <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
    </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-dev/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-dev/lmfdb/static">
      Require all granted
    </Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-dev/flasklog
    <Directory "/home/lmfdb/lmfdb-git-dev">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Options Indexes FollowSymLinks
    #  Require all granted
    #</Directory>
    Alias /server-status /var/www/dummy
    <Directory "/var/www/">
    Require local
    </Directory>
    ProxyPass /server-status !

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8081/
    ProxyPassReverse / http://localhost:8081/

    CustomLog /var/log/apache2/dev-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName grace.mit.edu
    ServerAlias web.lmfdb.org
    ServerAlias web.lmfdb.xyz

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-web/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-web/lmfdb/static">
      Require all granted
    </Directory>


    Alias /flasklog /home/lmfdb/lmfdb-git-web/flasklog
    <Directory "/home/lmfdb/lmfdb-git-web">
      Require all granted
    </Directory>


    Alias /munin /var/cache/munin/www
    <Directory /var/cache/munin/www>
      Require all granted
      Options None
    </Directory>

    ScriptAlias /munin-cgi/munin-cgi-graph /usr/lib/munin/cgi/munin-cgi-graph
    <Location /munin-cgi/munin-cgi-graph>
      Require all granted
      <IfModule mod_fcgid.c>
        SetHandler fcgid-script
      </IfModule>
      <IfModule !mod_fcgid.c>
        SetHandler cgi-script
      </IfModule>
    </Location>

    ProxyPass /munin !
    ProxyPass /munin-cgi !

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8080/
    ProxyPassReverse / http://localhost:8080/

    CustomLog /var/log/apache2/web-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName cmfs.lmfdb.xyz
    ServerAlias cmfs.lmfdb.org
    ServerAlias scratch.lmfdb.xyz

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-master/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-master/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-master/flasklog
    <Directory "/home/lmfdb/lmfdb-git-master">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8083/
    ProxyPassReverse / http://localhost:8083/

    CustomLog /var/log/apache2/master-access.log combined
</VirtualHost>



<VirtualHost *:80>
    ServerName abvar.lmfdb.xyz
    ServerAlias abvar.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-abvar/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-abvar/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-abvar/flasklog
    <Directory "/home/lmfdb/lmfdb-git-abvar">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8084/
    ProxyPassReverse / http://localhost:8084/

    CustomLog /var/log/apache2/abvar-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName blue.lmfdb.xyz
    ServerAlias blue.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-blue/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-blue/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-blue/flasklog
    <Directory "/home/lmfdb/lmfdb-git-blue">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8090/
    ProxyPassReverse / http://localhost:8090/

    CustomLog /var/log/apache2/blue-access.log combined
</VirtualHost>

<VirtualHost *:80>
    ServerName olive.lmfdb.xyz
    ServerAlias olive.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-olive/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-olive/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-olive/flasklog
    <Directory "/home/lmfdb/lmfdb-git-olive">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8091/
    ProxyPassReverse / http://localhost:8091/

    CustomLog /var/log/apache2/olive-access.log combined
</VirtualHost>

<VirtualHost *:80>
    ServerName pink.lmfdb.xyz
    ServerAlias pink.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-pink/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-pink/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-pink/flasklog
    <Directory "/home/lmfdb/lmfdb-git-pink">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8092/
    ProxyPassReverse / http://localhost:8092/

    CustomLog /var/log/apache2/pink-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName purple.lmfdb.xyz
    ServerAlias purple.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-purple/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-purple/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-purple/flasklog
    <Directory "/home/lmfdb/lmfdb-git-purple">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8093/
    ProxyPassReverse / http://localhost:8093/

    CustomLog /var/log/apache2/purple-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName red.lmfdb.xyz
    ServerAlias red.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      #Header set Cache-Control "max-age=600, public, must-revalidate"
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-red/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-red/lmfdb/static">
      Require all granted
    </Directory>

    #Alias /data /home/lmfdb/data
    #<Directory "/home/lmfdb/data">
    #  Require all granted
    #</Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-red/flasklog
    <Directory "/home/lmfdb/lmfdb-git-red">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    #ProxyPass /data !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8094/
    ProxyPassReverse / http://localhost:8094/

    CustomLog /var/log/apache2/red-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName teal.lmfdb.xyz
    ServerAlias teal.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-teal/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-teal/lmfdb/static">
      Require all granted
    </Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-teal/flasklog
    <Directory "/home/lmfdb/lmfdb-git-teal">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8095/
    ProxyPassReverse / http://localhost:8095/

    CustomLog /var/log/apache2/teal-access.log combined
</VirtualHost>


<VirtualHost *:80>
    ServerName groups.lmfdb.xyz
    ServerAlias groups.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-groups/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-groups/lmfdb/static">
      Require all granted
    </Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-groups/flasklog
    <Directory "/home/lmfdb/lmfdb-git-groups">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8100/
    ProxyPassReverse / http://localhost:8100/

    CustomLog /var/log/apache2/groups-access.log combined
</VirtualHost>

<VirtualHost *:80>
    ServerName tori.lmfdb.xyz
    ServerAlias tori.lmfdb.org

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary

    #Dealing with proxy servers
    Header append Vary User-Agent

    ## EXPIRES CACHING ##
    ExpiresActive On
    ExpiresByType image/jpg "access 1 hour"
    ExpiresByType image/jpeg "access 1 hour"
    ExpiresByType image/gif "access 1 hour"
    ExpiresByType image/png "access 1 hour"
    ExpiresByType text/css "access 1 hour"
    ExpiresByType text/html "access 0 minutes"
    ExpiresByType application/pdf "access 10 minutes"
    ExpiresByType text/x-javascript "access 10 minutes"
    ExpiresByType image/x-icon "access 1 day"
    ExpiresDefault "access 10 minutes"

 <FilesMatch "\.(ico|jpeg|pdf|flv|jpg|png|gif|svg|js|css|swf)$">
    Header set Cache-Control "max-age=30, public, must-revalidate"
    Header unset Last-Modified
    Header unset ETag
    FileETag None
  </FilesMatch>

  <FilesMatch "\.(html|php)$">
      Header set Cache-Control "no-cache, no-store, must-revalidate"
      Header set Pragma "no-cache"
      Header set Expires 0
  </FilesMatch>

    Alias /static /home/lmfdb/lmfdb-git-tori/lmfdb/static
    <Directory "/home/lmfdb/lmfdb-git-tori/lmfdb/static">
      Require all granted
    </Directory>

    Alias /flasklog /home/lmfdb/lmfdb-git-tori/flasklog
    <Directory "/home/lmfdb/lmfdb-git-tori">
      Require all granted
    </Directory>

    ProxyPass /flasklog !
    ProxyPass /static !
    ProxyPass /MathJax !
    ProxyPass /icons !
    ProxyPass        / http://localhost:8101/
    ProxyPassReverse / http://localhost:8101/

    CustomLog /var/log/apache2/tori-access.log combined
</VirtualHost>



